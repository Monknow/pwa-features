import"./style.c0ed6924.js";const r="/pwa-features/assets/bird.f028ee5f.jpg",n=new Image,i=document.querySelector("#canvas-element"),d=i.getContext("2d");n.addEventListener("load",()=>{i.width=n.width,i.height=n.height,d.drawImage(n,0,0)});n.src=r;const w=document.querySelector("#get-file-button"),c=document.querySelector("#text-file-pre"),o=document.querySelector("#text-file-name");o.textContent="hello-world.txt";c.textContent="hello world";const s=document.querySelector("#image-file-name");s.textContent="bird.jpg";w.addEventListener("click",async()=>{const[a]=await window.showOpenFilePicker({types:[{description:"Text",accept:{"text/*":[".txt"]}},{description:"Images",accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}]}),e=await a.getFile();switch(!0){case e.type.startsWith("text/"):c.textContent=await e.text(),o.textContent=e.name;break;case e.type.startsWith("image/"):{const t=new FileReader;t.addEventListener("load",()=>{const l=new Blob([t.result],{type:e.type});n.src=URL.createObjectURL(l)}),t.readAsArrayBuffer(e),s.textContent=e.name}break;default:alert(`type ${e.type} not supported`)}});const m=document.querySelector("#save-text-file-button");m.addEventListener("click",async()=>{const a=new File([c.textContent],o.textContent,{type:"text/plain"}),t=await(await window.showSaveFilePicker({suggestedName:o.textContent})).createWritable();await t.write(a),await t.close()});const g=document.querySelector("#save-image-file-button");g.addEventListener("click",async()=>{const e=await(await window.showSaveFilePicker({suggestedName:s.textContent})).createWritable();i.toBlob(async t=>{await e.write(t),await e.close()},"image/jpeg")});
